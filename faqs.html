<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Frequently Asked Questions &#8212; ETE Toolkit 4.0.0-beta2 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=d1102ebc" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css?v=12dfc556" />
    <script src="_static/documentation_options.js?v=382e6e0c"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="icon" href="_static/favicon.ico"/>
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Tree matcher" href="reference/reference_treematcher.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="frequently-asked-questions">
<h1><a class="toc-backref" href="#id1" role="doc-backlink">Frequently Asked Questions</a><a class="headerlink" href="#frequently-asked-questions" title="Link to this heading">¶</a></h1>
<nav class="contents" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#frequently-asked-questions" id="id1">Frequently Asked Questions</a></p>
<ul>
<li><p><a class="reference internal" href="#general" id="id2">General</a></p>
<ul>
<li><p><a class="reference internal" href="#how-do-i-use-ete" id="id3">How do I use ETE?</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#tree-browsing" id="id4">Tree Browsing</a></p>
<ul>
<li><p><a class="reference internal" href="#how-do-i-find-a-leaf-by-its-name" id="id5">How do I find a leaf by its name?</a></p></li>
<li><p><a class="reference internal" href="#how-do-i-visit-all-nodes-within-a-tree" id="id6">How do I visit all nodes within a tree?</a></p></li>
<li><p><a class="reference internal" href="#can-i-control-the-order-in-which-nodes-are-visited" id="id7">Can I control the order in which nodes are visited?</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#reading-and-writing" id="id8">Reading and writing</a></p>
<ul>
<li><p><a class="reference internal" href="#how-do-i-load-a-tree-with-internal-node-names-or-support" id="id9">How do I load a tree with internal node names or support?</a></p></li>
<li><p><a class="reference internal" href="#how-do-i-export-tree-node-annotations-using-the-newick-format" id="id10">How do I export tree node annotations using the Newick format?</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#tree-visualization" id="id11">Tree visualization</a></p>
<ul>
<li><p><a class="reference internal" href="#can-ete-draw-circular-trees" id="id12">Can ETE draw circular trees?</a></p></li>
<li><p><a class="reference internal" href="#how-do-i-export-tree-images-as-svg" id="id13">How do I export tree images as SVG?</a></p></li>
<li><p><a class="reference internal" href="#how-do-i-visualize-internal-node-names" id="id14">How do I visualize internal node names?</a></p></li>
<li><p><a class="reference internal" href="#can-the-visualization-of-trees-with-very-unbalanced-tree-branches-be-improved" id="id15">Can the visualization of trees with very unbalanced tree branches be improved?</a></p></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
<section id="general">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">General</a><a class="headerlink" href="#general" title="Link to this heading">¶</a></h2>
<section id="how-do-i-use-ete">
<h3><a class="toc-backref" href="#id3" role="doc-backlink">How do I use ETE?</a><a class="headerlink" href="#how-do-i-use-ete" title="Link to this heading">¶</a></h3>
<p>ETE includes a basic standalone program that can be used to quickly
visualize your trees. Type <code class="docutils literal notranslate"><span class="pre">ete4</span> <span class="pre">explore</span> <span class="pre">-t</span> <span class="pre">&lt;file&gt;</span></code> in a terminal to
run the program. For instance:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ete4</span> <span class="n">explore</span> <span class="o">-</span><span class="n">t</span> <span class="n">mytreefile</span><span class="o">.</span><span class="n">nw</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">ete4</span></code> script is a very simple implementation and does not allow
for fancy customization. However, ETE is more than a standalone
program. The main goal of ETE is to provide a Python programming
library, so you can create your own scripts to manipulate and
visualize phylogenetic trees.</p>
<p>For example, in a python shell or script, you could:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">ete4</span> <span class="kn">import</span> <span class="n">Tree</span>

<span class="n">t1</span> <span class="o">=</span> <span class="n">Tree</span><span class="p">(</span><span class="s1">&#39;((A,B),C);&#39;</span><span class="p">)</span>  <span class="c1"># create tree from newick string</span>
<span class="n">t1</span><span class="o">.</span><span class="n">explore</span><span class="p">()</span>

<span class="n">t2</span> <span class="o">=</span> <span class="n">Tree</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="s1">&#39;mytreefile.nw&#39;</span><span class="p">))</span>  <span class="c1"># create tree from file</span>
<span class="n">t2</span><span class="o">.</span><span class="n">explore</span><span class="p">()</span>
</pre></div>
</div>
<p>You can find many examples in the ETE tutorial.</p>
</section>
</section>
<section id="tree-browsing">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">Tree Browsing</a><a class="headerlink" href="#tree-browsing" title="Link to this heading">¶</a></h2>
<section id="how-do-i-find-a-leaf-by-its-name">
<h3><a class="toc-backref" href="#id5" role="doc-backlink">How do I find a leaf by its name?</a><a class="headerlink" href="#how-do-i-find-a-leaf-by-its-name" title="Link to this heading">¶</a></h3>
<p>You can use the following shortcut (note that it assumes no duplicated
names):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">node</span> <span class="o">=</span> <span class="n">t</span><span class="p">[</span><span class="s1">&#39;tip1&#39;</span><span class="p">]</span>
</pre></div>
</div>
</section>
<section id="how-do-i-visit-all-nodes-within-a-tree">
<h3><a class="toc-backref" href="#id6" role="doc-backlink">How do I visit all nodes within a tree?</a><a class="headerlink" href="#how-do-i-visit-all-nodes-within-a-tree" title="Link to this heading">¶</a></h3>
<p>There are many ways, but this is the easiest one:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">t</span><span class="o">.</span><span class="n">traverse</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="can-i-control-the-order-in-which-nodes-are-visited">
<h3><a class="toc-backref" href="#id7" role="doc-backlink">Can I control the order in which nodes are visited?</a><a class="headerlink" href="#can-i-control-the-order-in-which-nodes-are-visited" title="Link to this heading">¶</a></h3>
<p>Yes, currently 3 strategies are implemented: pre-order, post-order and
level-over. You can check the differences at
<a class="reference external" href="http://packages.python.org/ete4/tutorial/tutorial_trees.html#traversing-browsing-trees">http://packages.python.org/ete4/tutorial/tutorial_trees.html#traversing-browsing-trees</a></p>
</section>
</section>
<section id="reading-and-writing">
<h2><a class="toc-backref" href="#id8" role="doc-backlink">Reading and writing</a><a class="headerlink" href="#reading-and-writing" title="Link to this heading">¶</a></h2>
<section id="how-do-i-load-a-tree-with-internal-node-names-or-support">
<h3><a class="toc-backref" href="#id9" role="doc-backlink">How do I load a tree with internal node names or support?</a><a class="headerlink" href="#how-do-i-load-a-tree-with-internal-node-names-or-support" title="Link to this heading">¶</a></h3>
<p>Newick format can be slightly different across programs. ETE allows to
read and write several newick subformats, including support for
internal node labeling:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Format</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Example</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p>internal nodes with support (flexible)</p></td>
<td><p>((D:0.7,F:0.5)1.0:0.6,(B:0.2,H:0.7)1.0:0.8);</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>internal nodes with names (flexible)</p></td>
<td><p>((D:0.7,F:0.5)E:0.6,(B:0.2,H:0.7)B:0.8);</p></td>
</tr>
<tr class="row-even"><td><p>2</p></td>
<td><p>internal w/ support, all lengths present</p></td>
<td><p>((D:0.7,F:0.5)1.0:0.6,(B:0.2,H:0.7)1.0:0.8);</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p>internal w/ names, all lengths present</p></td>
<td><p>((D:0.7,F:0.5)E:0.6,(B:0.2,H:0.7)B:0.8);</p></td>
</tr>
<tr class="row-even"><td><p>4</p></td>
<td><p>names and lengths for leaves only</p></td>
<td><p>((D:0.7,F:0.5),(B:0.2,H:0.7));</p></td>
</tr>
<tr class="row-odd"><td><p>5</p></td>
<td><p>leaf names and all lengths</p></td>
<td><p>((D:0.7,F:0.5):0.6,(B:0.2,H:0.7):0.8);</p></td>
</tr>
<tr class="row-even"><td><p>6</p></td>
<td><p>leaf names and internal lengths</p></td>
<td><p>((D,F):0.6,(B,H):0.8);</p></td>
</tr>
<tr class="row-odd"><td><p>7</p></td>
<td><p>all names and leaf lengths</p></td>
<td><p>((D:0.7,F:0.5)E,(B:0.2,H:0.7)B);</p></td>
</tr>
<tr class="row-even"><td><p>8</p></td>
<td><p>all names (leaves and internal nodes)</p></td>
<td><p>((D,F)E,(B,H)B);</p></td>
</tr>
<tr class="row-odd"><td><p>9</p></td>
<td><p>leaf names only</p></td>
<td><p>((D,F),(B,H));</p></td>
</tr>
<tr class="row-even"><td><p>100</p></td>
<td><p>topology only</p></td>
<td><p>((,),(,));</p></td>
</tr>
</tbody>
</table>
<p>In order to load (or write) a tree with internal node support, you can
specify to use the parser for format 0:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">ete4</span> <span class="kn">import</span> <span class="n">Tree</span>

<span class="n">t</span> <span class="o">=</span> <span class="n">Tree</span><span class="p">(</span><span class="s1">&#39;my_tree.nw&#39;</span><span class="p">,</span> <span class="n">parser</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="n">t</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">parser</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="how-do-i-export-tree-node-annotations-using-the-newick-format">
<h3><a class="toc-backref" href="#id10" role="doc-backlink">How do I export tree node annotations using the Newick format?</a><a class="headerlink" href="#how-do-i-export-tree-node-annotations-using-the-newick-format" title="Link to this heading">¶</a></h3>
<p>When writing a tree, by default ETE only writes the node’s names,
distances and support (depending on the format). If you want to save
other properties, you need to specify them when calling
<code class="docutils literal notranslate"><span class="pre">tree.write()</span></code>. For instance:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">tree</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">props</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;species&#39;</span><span class="p">,</span> <span class="s1">&#39;size&#39;</span><span class="p">])</span>
</pre></div>
</div>
<p>If you want all node features to be exported in the newick string, use
<code class="docutils literal notranslate"><span class="pre">props=None</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">tree</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">props</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="tree-visualization">
<h2><a class="toc-backref" href="#id11" role="doc-backlink">Tree visualization</a><a class="headerlink" href="#tree-visualization" title="Link to this heading">¶</a></h2>
<section id="can-ete-draw-circular-trees">
<h3><a class="toc-backref" href="#id12" role="doc-backlink">Can ETE draw circular trees?</a><a class="headerlink" href="#can-ete-draw-circular-trees" title="Link to this heading">¶</a></h3>
<p>Yes, starting from version 2.1, ETE can render trees in circular
mode.</p>
</section>
<section id="how-do-i-export-tree-images-as-svg">
<h3><a class="toc-backref" href="#id13" role="doc-backlink">How do I export tree images as SVG?</a><a class="headerlink" href="#how-do-i-export-tree-images-as-svg" title="Link to this heading">¶</a></h3>
<p>Image format is automatically detected from the filename extension.
The following code will automatically render the tree as a vector
image:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">tree</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="s1">&#39;mytree.svg&#39;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="how-do-i-visualize-internal-node-names">
<h3><a class="toc-backref" href="#id14" role="doc-backlink">How do I visualize internal node names?</a><a class="headerlink" href="#how-do-i-visualize-internal-node-names" title="Link to this heading">¶</a></h3>
<p>You will need to change the default tree layout. By creating your
custom layout functions, you will be able to add, remove or modify
almost any element of the tree image.</p>
<p>A basic example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">ete4</span> <span class="kn">import</span> <span class="n">Tree</span><span class="p">,</span> <span class="n">faces</span><span class="p">,</span> <span class="n">AttrFace</span><span class="p">,</span> <span class="n">TreeStyle</span>

<span class="k">def</span> <span class="nf">my_layout</span><span class="p">(</span><span class="n">node</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">node</span><span class="o">.</span><span class="n">is_leaf</span><span class="p">:</span>
         <span class="n">name_face</span> <span class="o">=</span> <span class="n">AttrFace</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">)</span>  <span class="c1"># draw name for leaves</span>
    <span class="k">else</span><span class="p">:</span>  <span class="c1"># internal node</span>
         <span class="n">name_face</span> <span class="o">=</span> <span class="n">AttrFace</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="n">fsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>  <span class="c1"># draw label with small font</span>

    <span class="c1"># Add the name face to the image at the preferred position</span>
    <span class="n">faces</span><span class="o">.</span><span class="n">add_face_to_node</span><span class="p">(</span><span class="n">name_face</span><span class="p">,</span> <span class="n">node</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">position</span><span class="o">=</span><span class="s2">&quot;branch-right&quot;</span><span class="p">)</span>

<span class="n">ts</span> <span class="o">=</span> <span class="n">TreeStyle</span><span class="p">()</span>
<span class="n">ts</span><span class="o">.</span><span class="n">show_leaf_name</span> <span class="o">=</span> <span class="kc">False</span>  <span class="c1"># do not add leaf names again</span>
<span class="n">ts</span><span class="o">.</span><span class="n">layout_fn</span> <span class="o">=</span> <span class="n">my_layout</span>  <span class="c1"># use custom layout</span>

<span class="n">t</span> <span class="o">=</span> <span class="n">Tree</span><span class="p">(</span><span class="s2">&quot;((B,(E,(A,G)M1_t1)M_1_t2)M2_t3,(C,D)M2_t1)M2_t2;&quot;</span><span class="p">,</span> <span class="n">parser</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>

<span class="n">t</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">tree_style</span><span class="o">=</span><span class="n">ts</span><span class="p">)</span>  <span class="c1"># visualize with custom tree style</span>
</pre></div>
</div>
</section>
<section id="can-the-visualization-of-trees-with-very-unbalanced-tree-branches-be-improved">
<h3><a class="toc-backref" href="#id15" role="doc-backlink">Can the visualization of trees with very unbalanced tree branches be improved?</a><a class="headerlink" href="#can-the-visualization-of-trees-with-very-unbalanced-tree-branches-be-improved" title="Link to this heading">¶</a></h3>
<p>Yes, the experience of visualizing trees with extreme differences in
branch lengths can be improved in several ways.</p>
<p>1) Convert your tree to ultrametric. This will modify all branches in
your tree to make all nodes end at the same length.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">ete4</span> <span class="kn">import</span> <span class="n">Tree</span>

<span class="n">t</span> <span class="o">=</span> <span class="n">Tree</span><span class="p">()</span>
<span class="n">t</span><span class="o">.</span><span class="n">populate</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="n">random_branches</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">t</span><span class="o">.</span><span class="n">to_ultrametric</span><span class="p">()</span>
<span class="n">t</span><span class="o">.</span><span class="n">explore</span><span class="p">()</span>
</pre></div>
</div>
<p>2) You can enable the <code class="xref py py-attr docutils literal notranslate"><span class="pre">force_topology</span></code> option in
<code class="xref py py-class docutils literal notranslate"><span class="pre">TreeStyle</span></code>, so all branches will be seen as the same length by
the tree drawing engine (note that in this case, actual tree branches
are not modified)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">ete4</span> <span class="kn">import</span> <span class="n">Tree</span><span class="p">,</span> <span class="n">TreeStyle</span>

<span class="n">t</span> <span class="o">=</span> <span class="n">Tree</span><span class="p">()</span>
<span class="n">t</span><span class="o">.</span><span class="n">populate</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="n">random_branches</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">ts</span> <span class="o">=</span> <span class="n">TreeStyle</span><span class="p">()</span>
<span class="n">ts</span><span class="o">.</span><span class="n">force_topology</span> <span class="o">=</span> <span class="kc">True</span>

<span class="n">t</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">tree_style</span><span class="o">=</span><span class="n">ts</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">ETE Toolkit</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="about.html">About</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial/index.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="reference/index.html">Reference Guide</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Frequently Asked Questions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#general">General</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tree-browsing">Tree Browsing</a></li>
<li class="toctree-l2"><a class="reference internal" href="#reading-and-writing">Reading and writing</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tree-visualization">Tree visualization</a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="reference/reference_treematcher.html" title="previous chapter">Tree matcher</a></li>
  </ul></li>
</ul>
</div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2008 - 2023, The ETE Toolkit Team.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 7.3.7</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 0.7.16</a>
      
      |
      <a href="_sources/faqs.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>